<div class="jumbotron cajaRegistro">
    <div class="row">
        <h3 class="text-center col-12">Únete a la comunidad!!</h3>

        <form class="col-12" [formGroup]="formularioRegistro" (ngSubmit)="enviarDatos(formularioRegistro.value)">

            <div class="col-12">
                <h3>Avatar</h3>
                <input class="ui-button" type="file" accept="image/*" name="imagen" (change)="cargarAvatar($event)">
                <img class="rounded-circle" [src]="imagenAvatar">
                <p-progressSpinner *ngIf="mostrarSpinner"></p-progressSpinner>
            </div>

            <div class="col-12">
                <h3>Nombre</h3>
                <span class="ui-float-label">
                    <input formControlName="nombre" id="nombre" name="nombre" type="text" size="30" pInputText>
                    <label for="nombre">Nombre</label>
                    <div *ngIf="formularioRegistro.get('nombre').touched && !formularioRegistro.get('nombre').valid" class="form-control-feedback">
                        <p *ngIf="formularioRegistro.get('nombre').hasError('required')">*Introduce tu nombre</p>
                    </div>
                </span>
            </div>

            <div class="col-12">
                <h3>Apellido</h3>
                <span class="ui-float-label">
                    <input formControlName="apellido" id="apellido" type="text" size="30" pInputText>
                    <label for="apellido">Apellido</label>
                    <div *ngIf="formularioRegistro.get('apellido').touched && !formularioRegistro.get('apellido').valid" class="form-control-feedback">
                        <p *ngIf="formularioRegistro.get('apellido').hasError('required')">*Introduce tu apellido</p>
                    </div>
                 </span>
            </div>

            <div class="col-12">
                <h3>Email</h3>
                <span class="ui-float-label">
                    <input formControlName="email" id="email" type="text" size="30" pInputText>
                    <label for="email">Email</label>
                    <div *ngIf="formularioRegistro.get('email').touched && !formularioRegistro.get('email').valid" class="form-control-feedback">
                        <p *ngIf="formularioRegistro.get('email').hasError('required')">*Introduce tu email</p>
                        <p *ngIf="formularioRegistro.get('email').hasError('email')">*Formato de email inválido</p>
                    </div>
                </span>
            </div>

            <div class="col-12">
                <h3>Contraseña</h3>
                <input formControlName="password" name="password" pPassword type="password" />
                <div *ngIf="formularioRegistro.get('password').touched && !formularioRegistro.get('password').valid">
                    <p *ngIf="formularioRegistro.get('password').hasError('required')">*La contraseña es requerida</p>
                    <p *ngIf="formularioRegistro.get('password').hasError('minlength')">*La contraseña debe tener mínino 8 caracteres</p>
                    <p *ngIf="formularioRegistro.get('password').hasError('maxlength')">*La contraseña debe tener como máximo 12 caracteres</p>
                </div>
            </div>

            <div class="col-12">
                <h3>Repetir contraseña</h3>
                <input appValidacion="password" formControlName="confirmacionPassword" pPassword type="password" />
                <div *ngIf="formularioRegistro.get('confirmacionPassword').touched && !formularioRegistro.get('confirmacionPassword').valid">
                    <p *ngIf="formularioRegistro.get('confirmacionPassword').hasError('required')">*La contraseña de confirmación es requerida</p>
                    <p *ngIf="formularioRegistro.get('confirmacionPassword').hasError('noSonIguales')">*Las contraseñas no coinciden</p>
                </div>
            </div>

            <div class="col-12">
                <h3>Fecha de Nacimiento</h3>
                <span class="ui-float-label"></span>
                <p-calendar formControlName="fechaNacimiento" [showIcon]="true" dateFormat="dd.mm.yy" [yearNavigator]="true" [yearRange]="rangoAnios" [monthNavigator]="true"></p-calendar>
                <div *ngIf="formularioRegistro.get('fechaNacimiento').touched && !formularioRegistro.get('fechaNacimiento').valid" class="form-control-feedback">
                    <p *ngIf="formularioRegistro.get('fechaNacimiento').hasError('required')">*Fecha de nacimiento es requerida</p>
                </div>
            </div>


            <div class="col-12 " style="width:250px;margin-bottom:10px ">
                <h3>Sexo</h3>
                <p-radioButton formControlName="sexo" name="sexo" value="Mujer" label="Mujer"></p-radioButton>
                <p-radioButton formControlName="sexo" name="sexo" value="Hombre" label="Hombre"></p-radioButton>
                <div *ngIf="formularioRegistro.get('sexo').touched && !formularioRegistro.get('sexo').valid" class="form-control-feedback">
                    <p *ngIf="formularioRegistro.get('sexo').hasError('required')">*El sexo es requerido</p>
                </div>
            </div>

            <div class="col-12 ">
                <h3>Provincia</h3>
                <p-dropdown formControlName="provincia" [options]="listaProvincias" placeholder="Selecciona una provincia" optionLabel="nombre" [showClear]="true" filter="true"></p-dropdown>
                <div *ngIf="formularioRegistro.get('provincia').touched && !formularioRegistro.get('provincia').valid" class="form-control-feedback">
                    <p *ngIf="formularioRegistro.get('provincia').hasError('required')">*La provincia es requerida</p>
                </div>
            </div>

            <div class="col-12 ">
                <h3>Más sobre ti</h3>
                <span class="ui-float-label">
                    <input formControlName="info" id="info" type="text" size="30" pInputText>
                    <label for="info">Info</label>
                 </span>
            </div>

            <div class="col-12" style="width:250px;margin-bottom:10px">
                <h3>Intereses</h3>
                <p-checkbox class="ui-grid-row" *ngFor="let interes of listaIntereses" formControlName="intereses" [value]="interes" [label]="interes.nombre"></p-checkbox>
            </div>

            <div class="col-12">
                <h3>Términos</h3>
                <p-inputSwitch formControlName="terminos"></p-inputSwitch>
                <span>Acepto los términos y condiciones</span>
                <div *ngIf="formularioRegistro.get('terminos').touched && !formularioRegistro.get('terminos').valid" class="form-control-feedback">
                    <p *ngIf="formularioRegistro.get('terminos').hasError('required')">*Debes aceptar los términos</p>
                </div>
            </div>
            <div class="col-12">
                <p *ngIf="esNecesarioRellenarTodosLosCampos">** Es necesario rellenar todos los campos **</p>
            </div>
            <button pButton type="submit" label="REGISTRO" class="ui-button-info"></button>

        </form>
    </div>

</div>